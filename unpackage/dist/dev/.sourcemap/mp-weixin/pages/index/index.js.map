{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t <customNavBar>\n\t\t <block v-slot:index>\n\t\t\t <scroll-view class=\"hotSubmenu\" scroll-x scroll-into-view=\"scrollInto\" :scroll-with-animation=\"true\">\n\t\t\t \t<view class=\"hotSubmenuTitle\"  :id=\"'menu'+index\" v-for=\"(item,index) in menu\" :key=\"index\" @click=\"changeMenu(index)\">\n\t\t\t \t\t{{item.title}}\n\t\t\t \t\t<view :class=\"{'hotBottomBorder animate__heartBeat' : tabIndex == index}\"></view>\n\t\t\t \t</view>\n\t\t\t </scroll-view>\n\t\t </block>\n\t </customNavBar>\n\t</view>\n\t<swiper class=\"main\" :style=\"{ height: swiperHeight + 'px' }\" @change=\"changeSwiper\" :current=\"tabIndex\" duration=\"800\">\n\t\t<swiper-item class=\"swiper-item\" ref=\"item33\" id=\"hot\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\">\n\t\t\t\t<hotItem :height = \"swiperHeight\" :mainData=\"main\" :subMenu=\"subMenu\">\n\t\t\t\t</hotItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t\t<swiper-item class=\"swiper-item\" ref=\"item1\" id=\"iphone\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\">\n\t\t\t\t<iphoneItem :height = \"swiperHeight\" :iphoneData=\"iphone\">\n\t\t\t\t</iphoneItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t\t<swiper-item class=\"swiper-item\" ref=\"item2\" id=\"samsung\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\">\n\t\t\t\t<samsungItem :height = \"swiperHeight\" :samsungData=\"samsung\">\n\t\t\t\t</samsungItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t</swiper>\n\t<FixContainer></FixContainer>\n</template>\n\n<script>\nimport {ref,watch } from \"vue\";\nimport { storeToRefs } from \"pinia\";\nimport { useMainStores } from \"../../stores/mainData\";\nimport { serviceGet } from \"@/utill/request\";\nimport { getNaviBar } from \"@/utill/systemData.js\";\nimport customNavBar from \"@/components/custom-nav-bar/custom-nav-bar.vue\";\nimport hotItem from \"@/components/index/hot-item/hot-item.vue\";\nimport samsungItem from \"@/components/index/samsung-item/samsung-item.vue\";\nimport iphoneItem from \"@/components/index/iphone-item/iphone-item.vue\";\nimport LodingItem from \"@/components/item/itemList.vue\";\nimport FixContainer from \"@/components/fixContent/fixContainer.vue\"\n\n\nexport default{\n\n\tcomponents:{\n\t\tcustomNavBar,\n\t\thotItem,\n\t\tsamsungItem,\n\t\tiphoneItem,\n\t\tLodingItem,\n\t\tFixContainer\n\t},\n\tsetup(props, context) {\n\t\tconst mainStores = useMainStores();\n\t\t// 현재 서뷰메뉴 속한 swiper-item index숫자\n\t\tconst tabIndex = ref(0);\n\t\t//서브메뉴버튼과 내용swiper-item번호를 맞게하기위하여 index번호+스명으로 이루어짐\n\t\tconst scrollInto = ref(\"\");\n\t\tconst swiperHeightf = ()=>{\n\t\t\tlet {screenHeight} = uni.getSystemInfoSync();\n\t\t\treturn screenHeight - getNaviBar().fillHeight()-51;\t\n\t\t}\n\t\tconst swiperHeight = ref(swiperHeightf());\n\t\tconst {main,iphone,samsung,subMenu,isDataReady} = storeToRefs(mainStores);\n\t\tconst menu = ref([]);\n\t\t// main, iphone, samsung 데이터 감지\n\t\twatch(\n\t\t  () => [main.value, iphone.value, samsung.value],\n\t\t  ([newMain, newIphone, newSamsung]) => {\n\t\t\tmenu.value = [\n\t\t\t  {\n\t\t\t\ttitle: newMain.length > 0 && newMain[0]?.name ? newMain[0].name : '핫 아이템',\n\t\t\t  },\n\t\t\t  {\n\t\t\t\ttitle: newIphone.length > 0 && newIphone[0]?.name ? newIphone[0].name : '아이폰',\n\t\t\t  },\n\t\t\t  {\n\t\t\t\ttitle: newSamsung.length > 0 && newSamsung[0]?.name ? newSamsung[0].name : '삼성',\n\t\t\t  },\n\t\t\t];\n\t\t  },\n\t\t  { immediate: true, deep: true }\n\t\t);\n\t\t\n\t\treturn {\n\t\t\tisDataReady,\n\t\t\ttabIndex,\n\t\t\tscrollInto,\n\t\t\tswiperHeight,\n\t\t\tswiperHeightf,\n\t\t\tmenu,\n\t\t\tmain,\n\t\t\tiphone,\n\t\t\tsubMenu,\n\t\t\tsamsung\n\t\t}\n\t},\n\tmethods:{\n\t\tchangeSwiper(e){\n\t\t\tthis.changeMenu(e.detail.current);\n\t\t},\n\t\tchangeMenu(i){\n\t\t\tif(i == this.tabIndex){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.scrollInto = \"tab\"+i;\n\t\t\tthis.tabIndex = i;\n\t\t},\n\t\t// pinia 데이터를 받는 설정 부분\n\t\tasync loadData(){\n\t\t\tif (!this.isDataReady) {\n\t\t\t    try {\n\t\t\t        await this.mainStores.lodingMain();\n\t\t\t    } catch (error) {\n\t\t\t\t  console.log('Error reloading data:', error);\n\t\t\t\t  // 에러 시 기본 메뉴 설정\n\t\t\t\t  this.menu = [\n\t\t\t\t\t{ title: '핫 아이템' },\n\t\t\t\t\t{ title: '아이폰' },\n\t\t\t\t\t{ title: '삼성' },\n\t\t\t\t  ];\n\t\t\t    }\t\n\t\t\t}\n\t\t},\n\t\t\n\t},\n\tasync onLoad() {\n        try {\n            await this.loadData();\t\t\t\n        } catch (error) {\n            console.log('Error in onLoad:', error);\n        }\n    }\n}\n\n</script>\n\n<style leng=\"scss\" scoped>\n swiper{\n\t width: 100vw;\n }\n .main{\n\t width: 100vw;\n }\n .swiper-item{\n\t width: 100vw;\n }\n\n</style>\n","import MiniProgramPage from '/Users/Coding/uniapp/weixinphone/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useMainStores","ref","uni","getNaviBar","storeToRefs","watch"],"mappings":";;;;;AA0CA,qBAAqB,MAAW;AAChC,MAAK,UAAW,MAAW;AAC3B,oBAAoB,MAAW;AAC/B,MAAO,aAAY,MAAW;AAC9B,mBAAmB,MAAW;AAC9B,MAAO,eAAc,MAAW;AAGhC,MAAK,YAAS;AAAA,EAEb,YAAW;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACD,MAAM,OAAO,SAAS;AACrB,UAAM,aAAaA,gBAAAA;AAEnB,UAAM,WAAWC,kBAAI,CAAC;AAEtB,UAAM,aAAaA,kBAAI,EAAE;AACzB,UAAM,gBAAgB,MAAI;AACzB,UAAI,EAAC,aAAY,IAAIC,cAAG,MAAC,kBAAiB;AAC1C,aAAO,eAAeC,iBAAU,WAAA,EAAG,WAAU,IAAG;AAAA,IACjD;AACA,UAAM,eAAeF,cAAAA,IAAI,cAAa,CAAE;AACxC,UAAM,EAAC,MAAK,QAAO,SAAQ,SAAQ,YAAW,IAAIG,0BAAY,UAAU;AACxE,UAAM,OAAOH,kBAAI,CAAA,CAAE;AAEnBI,kBAAK;AAAA,MACH,MAAM,CAAC,KAAK,OAAO,OAAO,OAAO,QAAQ,KAAK;AAAA,MAC9C,CAAC,CAAC,SAAS,WAAW,UAAU,MAAM;;AACvC,aAAK,QAAQ;AAAA,UACX;AAAA,YACD,OAAO,QAAQ,SAAS,OAAK,aAAQ,CAAC,MAAT,mBAAY,QAAO,QAAQ,CAAC,EAAE,OAAO;AAAA,UAChE;AAAA,UACD;AAAA,YACD,OAAO,UAAU,SAAS,OAAK,eAAU,CAAC,MAAX,mBAAc,QAAO,UAAU,CAAC,EAAE,OAAO;AAAA,UACtE;AAAA,UACD;AAAA,YACD,OAAO,WAAW,SAAS,OAAK,gBAAW,CAAC,MAAZ,mBAAe,QAAO,WAAW,CAAC,EAAE,OAAO;AAAA,UACzE;AAAA;MAED;AAAA,MACD,EAAE,WAAW,MAAM,MAAM,KAAK;AAAA;AAGhC,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAQ;AAAA,IACP,aAAa,GAAE;AACd,WAAK,WAAW,EAAE,OAAO,OAAO;AAAA,IAChC;AAAA,IACD,WAAW,GAAE;AACZ,UAAG,KAAK,KAAK,UAAS;AACrB;AAAA,MACD;AACA,WAAK,aAAa,QAAM;AACxB,WAAK,WAAW;AAAA,IAChB;AAAA;AAAA,IAED,MAAM,WAAU;AACf,UAAI,CAAC,KAAK,aAAa;AACnB,YAAI;AACA,gBAAM,KAAK,WAAW;QACxB,SAAO,OAAO;AACjBH,2EAAY,yBAAyB,KAAK;AAE1C,eAAK,OAAO;AAAA,YACb,EAAE,OAAO,QAAS;AAAA,YAClB,EAAE,OAAO,MAAO;AAAA,YAChB,EAAE,OAAO,KAAM;AAAA;QAEb;AAAA,MACJ;AAAA,IACA;AAAA,EAED;AAAA,EACD,MAAM,SAAS;AACR,QAAI;AACA,YAAM,KAAK;IACb,SAAO,OAAO;AACZA,oBAAY,MAAA,MAAA,OAAA,gCAAA,oBAAoB,KAAK;AAAA,IACzC;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5IA,GAAG,WAAW,eAAe;"}