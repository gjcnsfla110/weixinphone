{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t <customNavBar>\n\t\t <block v-slot:index>\n\t\t\t <scroll-view class=\"hotSubmenu\" scroll-x scroll-into-view=\"scrollInto\" :scroll-with-animation=\"true\">\n\t\t\t \t<view class=\"hotSubmenuTitle\"  :id=\"'menu'+index\" v-for=\"(item,index) in menu\" :key=\"index\" @click=\"changeMenu(index)\">\n\t\t\t \t\t{{item.title}}\n\t\t\t \t\t<view :class=\"{'hotBottomBorder animate__heartBeat' : tabIndex == index}\"></view>\n\t\t\t \t</view>\n\t\t\t </scroll-view>\n\t\t </block>\n\t </customNavBar>\n\t</view>\n\t<swiper class=\"main\" :style=\"{ height: swiperHeight + 'px' }\" @change=\"changeSwiper\" :current=\"tabIndex\" duration=\"800\">\n\t\t<swiper-item class=\"swiper-item\" ref=\"item33\" id=\"hot\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\">\n\t\t\t\t<hotItem :height = \"swiperHeight\" :mainData=\"main\" :subMenu=\"subMenu\">\n\t\t\t\t</hotItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t\t<swiper-item class=\"swiper-item\" ref=\"item1\" id=\"iphone\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\" @scrolltolower=\"iphoneScrolltolower\">\n\t\t\t\t<iphoneItem :height = \"swiperHeight\" :iphoneData=\"iphone\">\n\t\t\t\t</iphoneItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t\t<swiper-item class=\"swiper-item\" ref=\"item2\" id=\"samsung\">\n\t\t\t<scroll-view :style=\"{ height: swiperHeight + 'px' }\" scroll-y=\"true\" @scrolltolower=\"samsungScrolltolower\">\n\t\t\t\t<samsungItem :height = \"swiperHeight\" :samsungData=\"samsung\">\n\t\t\t\t</samsungItem>\n\t\t\t</scroll-view>\n\t\t</swiper-item>\n\t</swiper>\n</template>\n\n<script>\nimport {ref } from \"vue\";\nimport { useMainStores } from \"../../stores/mainData\";\nimport { serviceGet } from \"@/utill/request\";\nimport { getNaviBar } from \"@/utill/systemData.js\";\nimport customNavBar from \"@/components/custom-nav-bar/custom-nav-bar.vue\";\nimport hotItem from \"@/components/index/hot-item/hot-item.vue\";\nimport samsungItem from \"@/components/index/samsung-item/samsung-item.vue\";\nimport iphoneItem from \"@/components/index/iphone-item/iphone-item.vue\";\nimport LodingItem from \"@/components/item/itemList.vue\";\n\n\nexport default{\n\n\tcomponents:{\n\t\tcustomNavBar,\n\t\thotItem,\n\t\tsamsungItem,\n\t\tiphoneItem,\n\t\tLodingItem\n\t},\n\tsetup(props, context) {\n\t\tconst mainStores = useMainStores();\n\t\t// 현재 서뷰메뉴 속한 swiper-item index숫자\n\t\tconst tabIndex = ref(0);\n\t\t//서브메뉴버튼과 내용swiper-item번호를 맞게하기위하여 index번호+스명으로 이루어짐\n\t\tconst scrollInto = ref(\"\");\n\t\tconst swiperHeightf = ()=>{\n\t\t\tlet {screenHeight} = uni.getSystemInfoSync();\n\t\t\treturn screenHeight - getNaviBar().fillHeight()-51;\t\n\t\t}\n\t\tconst swiperHeight = ref(swiperHeightf());\n\t\tconst {main,iphone,samsung,subMenu} = mainStores;\n\t\tconst menu = ref([]);\n\t\treturn {\n\t\t\tmainStores,\n\t\t\ttabIndex,\n\t\t\tscrollInto,\n\t\t\tswiperHeight,\n\t\t\tswiperHeightf,\n\t\t\tmenu,\n\t\t\tmain,\n\t\t\tiphone,\n\t\t\tsubMenu,\n\t\t\tsamsung\n\t\t}\n\t},\n\tmethods:{\n\t\t//苹果 -》 下拉 加载\n\t\tiphoneScrolltolower(){\n\t\t\tconsole.log(\"22\");\n\t\t},\n\t\t//三星 -》 下拉 加载\n\t\tsamsungScrolltolower(){\n\t\t\tconsole.log(\"33\");\n\t\t},\n\t\tchangeSwiper(e){\n\t\t\tthis.changeMenu(e.detail.current);\n\t\t},\n\t\tchangeMenu(i){\n\t\t\tif(i == this.tabIndex){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.scrollInto = \"tab\"+i;\n\t\t\tthis.tabIndex = i;\n\t\t},\n\t\t// pinia 데이터를 받는 설정 부분\n\t\tasync loadData(){\n\t\t\tif (!this.mainStores.isDataReady) {\n\t\t\t    try {\n\t\t\t        await this.mainStores.lodingMain();\n\t\t\t    } catch (error) {\n\t\t\t        console.error('Error reloading data:', error);\n\t\t\t    }\n\t\t\t}\n\t\t},\n\t\t\n\t},\n\tasync onLoad() {\n        try {\n            await this.loadData();\n\t\t\tthis.menu = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle : this.main[0].name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle : this.iphone[0].name\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle : this.samsung[0].name\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t];\n        } catch (error) {\n            console.error('Error in onLoad:', error);\n        }\n    }\n}\n\n</script>\n\n<style leng=\"scss\" scoped>\n swiper{\n\t width: 100vw;\n }\n .main{\n\t width: 100vw;\n }\n .swiper-item{\n\t width: 100vw;\n }\n\n</style>\n","import MiniProgramPage from '/Users/Coding/uniapp/weixinphone/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useMainStores","ref","uni","getNaviBar"],"mappings":";;;;;AAwCA,qBAAqB,MAAW;AAChC,MAAK,UAAW,MAAW;AAC3B,oBAAoB,MAAW;AAC/B,MAAO,aAAY,MAAW;AAC9B,mBAAmB,MAAW;AAG9B,MAAK,YAAS;AAAA,EAEb,YAAW;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACD,MAAM,OAAO,SAAS;AACrB,UAAM,aAAaA,gBAAAA;AAEnB,UAAM,WAAWC,kBAAI,CAAC;AAEtB,UAAM,aAAaA,kBAAI,EAAE;AACzB,UAAM,gBAAgB,MAAI;AACzB,UAAI,EAAC,aAAY,IAAIC,cAAG,MAAC,kBAAiB;AAC1C,aAAO,eAAeC,iBAAU,WAAA,EAAG,WAAU,IAAG;AAAA,IACjD;AACA,UAAM,eAAeF,cAAAA,IAAI,cAAa,CAAE;AACxC,UAAM,EAAC,MAAK,QAAO,SAAQ,QAAO,IAAI;AACtC,UAAM,OAAOA,kBAAI,CAAA,CAAE;AACnB,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAQ;AAAA;AAAA,IAEP,sBAAqB;AACpBC,oBAAAA,MAAY,MAAA,OAAA,+BAAA,IAAI;AAAA,IAChB;AAAA;AAAA,IAED,uBAAsB;AACrBA,oBAAAA,MAAY,MAAA,OAAA,+BAAA,IAAI;AAAA,IAChB;AAAA,IACD,aAAa,GAAE;AACd,WAAK,WAAW,EAAE,OAAO,OAAO;AAAA,IAChC;AAAA,IACD,WAAW,GAAE;AACZ,UAAG,KAAK,KAAK,UAAS;AACrB;AAAA,MACD;AACA,WAAK,aAAa,QAAM;AACxB,WAAK,WAAW;AAAA,IAChB;AAAA;AAAA,IAED,MAAM,WAAU;AACf,UAAI,CAAC,KAAK,WAAW,aAAa;AAC9B,YAAI;AACA,gBAAM,KAAK,WAAW;QACxB,SAAO,OAAO;AACZA,wBAAc,MAAA,MAAA,SAAA,gCAAA,yBAAyB,KAAK;AAAA,QAChD;AAAA,MACJ;AAAA,IACA;AAAA,EAED;AAAA,EACD,MAAM,SAAS;AACR,QAAI;AACA,YAAM,KAAK;AACpB,WAAK,OAAO;AAAA,QACR;AAAA,UACC,OAAQ,KAAK,KAAK,CAAC,EAAE;AAAA,QACrB;AAAA,QACD;AAAA,UACC,OAAQ,KAAK,OAAO,CAAC,EAAE;AAAA,QACvB;AAAA,QACD;AAAA,UACC,OAAQ,KAAK,QAAQ,CAAC,EAAE;AAAA,QACzB;AAAA;IAEG,SAAO,OAAO;AACZA,oBAAc,MAAA,MAAA,SAAA,gCAAA,oBAAoB,KAAK;AAAA,IAC3C;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClIA,GAAG,WAAW,eAAe;"}