{"version":3,"file":"shop.js","sources":["pages/shop/shop.vue","pages/shop/shop.vue?type=page"],"sourcesContent":["<template>\n\t<Custom :back=\"true\"></Custom>\n\t<view class=\"shopContainer\" :style=\"{height:screenHeight+'px'}\">\n\t\t<view class=\"shopLeft\">\n\t\t\t<uni-collapse accordion>\n\t\t\t\t<uni-collapse-item :show-arrow=\"false\" :border=\"false\" show-animation v-for=\"item in menu\" :open=\"item.id == cutturn\">\n\t\t\t\t\t<template v-slot:title>\n\t\t\t\t\t        <view class=\"custom-title\" :class=\"{'custom-title-active animate__pulse': item.id == cutturn}\">{{item.name}}</view>\n\t\t\t\t\t</template>\n\t\t\t\t\t<view @click=\"cityActive(item.id,zone.id)\" class=\"shopBt\" v-for=\"zone in item.child\">\n\t\t\t\t\t\t<view class=\"shopBtText\" :class=\"{'activeShopBt animate__pulse': item.id === cutturn && zone.id === cutturnCity }\">{{zone.name}}</view>\n\t\t\t\t\t\t<view :class=\"{'shopBtShow animate__slideInUp': item.id === cutturn && zone.id === cutturnCity}\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t</uni-collapse-item>\n\t\t\t</uni-collapse>\n\t\t</view>\n\t\t<scroll-view class=\"shopRight\" scroll-y>\n\t\t\t<view class=\"shopRightContainer\">\n\t\t\t\t <view class=\"shopContent\" v-for=\"item in datalist\" @click=\"clickShop(item)\"> \n\t\t\t\t\t <view class=\"shopImg\">\n\t\t\t\t\t\t <image :src=\"item.mainImg\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t <view class=\"shopTitle\">{{item.name}}</view>\n\t\t\t\t\t </view>\n\t\t\t\t\t <view class=\"shopDetil\">\n\t\t\t\t\t\t <view class=\"explanation\"><view class=\"ShopDate\">营业时间：</view>{{item.hours}}</view>\n\t\t\t\t\t\t <text class=\"address\">{{item.address}}</text>\n\t\t\t\t\t\t <view class=\"shopfooter\">\n\t\t\t\t\t\t\t<view class=\"bottomLeft\"><image src='/static/weixin.png'></image><view class=\"weixin\">{{item.wechat}}</view></view>\n\t\t\t\t\t\t\t<view hover-class=\"hoverPhone\" class=\"bottomRight\" @click=\"callNumber('01056786555')\"><image src='/static/phone_06.png'></image><view class=\"shopPhone\">{{item.phone}}</view></view>\n\t\t\t\t\t\t </view>\n\t\t\t\t\t </view>\t\t\t\t\t \n\t\t\t\t </view>\n\t\t\t </view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport Custom from '@/components/custom-nav-bar/customNav.vue'\n\timport {getNaviBar} from '@/utill/systemData.js'\n\timport { servicePost } from '@/utill/request'\n\timport {ref} from 'vue'\n\timport { listTrees } from '@/utill/common'\n\t\n\texport default{\n\t\tcomponents:{\n\t\t\tCustom\n\t\t},\n\t\tprops:{\n\t\t\t\n\t\t},\n\t\tsetup(props, context) {\n\t\t\t//클릭된 지역카테고리\n\t\t\tconst cutturn = ref(0)\n\t\t\t//클릭된 도시\n\t\t\tconst cutturnCity = ref(0)\n\t\t\t//아래부분 높이\n\t\t\tconst screenHeight = ref(getNaviBar().noTabScreen());\n\t\t\tconst list = ref([]);\n\t\t\tconst menu = ref([]);\n\t\t\tconst datalist = ref([]);\n\t\t\treturn {\n\t\t\t\tcutturn,\n\t\t\t\tcutturnCity,\n\t\t\t\tscreenHeight,\n\t\t\t\tlist,\n\t\t\t\tmenu,\n\t\t\t\tdatalist\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//가계번호 클릭하면 폰다이어리에 나타나기\n\t\t\tcallNumber(number){\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle:\"商店电话\",\n\t\t\t\t\tcontent:\"确认直接拨通电话\",\n\t\t\t\t\tsuccess:function(res){\n\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\tif(!number){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\t\t\t        phoneNumber : number,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//클릭시 데이터 리스트 변경\n\t\t\tchangeList(id){\n\t\t\t\tthis.datalist = this.list.filter(item=>item.category_id == id);\n\t\t\t},\n\t\t\t//도시를 클릭시 이벤트부분\n\t\t\tcityActive(cutturnId,cutturnCityId){\n\t\t\t\tthis.cutturn = cutturnId;\n\t\t\t\tthis.cutturnCity = cutturnCityId;\n\t\t\t\tthis.changeList(this.cutturnCity)\n\t\t\t},\n\t\t\t//点击商店\n\t\t\tclickShop(item){\n\t\t\t\tuni.setStorageSync('shopItem',{\n\t\t\t\t\t shopItem:item\n\t\t\t\t})\n\t\t\t\tuni.navigateTo({\n\t\t\t\t        url: `/pages/itemPage/shopPage?id=${item.id}` // 이동할 페이지 경로\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync onLoad(){\n\t\t\t let shopData = uni.getStorageSync('shop');\n\t\t\t if(shopData){\n\t\t\t\t this.list = shopData.list;\n\t\t\t\t this.menu = shopData.menu;\n\t\t\t\t this.cutturn = this.menu[0] ? this.menu[0].id : 0;\n\t\t\t\t this.cutturnCity = this.menu[0].child[0] ? this.menu[0].child[0].id : 0;\n\t\t\t\t this.changeList(this.cutturnCity);\n\t\t\t }else{\n\t\t\t\t let data = await servicePost('app/shop/list');\n\t\t\t\t this.list = data.list;\n\t\t\t\t this.list.forEach((item)=>{\n\t\t\t\t\t item.shopImg = JSON.parse(item.shopImg);\n\t\t\t\t })\n\t\t\t\t this.menu = listTrees(data.category);\n\t\t\t\t uni.setStorageSync('shop',{\n\t\t\t\t\t list:this.list,\n\t\t\t\t\t menu:this.menu\n\t\t\t\t })\n\t\t\t\t this.cutturn = this.menu[0] ? this.menu[0].id : 0;\n\t\t\t\t this.cutturnCity = this.menu[0].child[0] ? this.menu[0].child[0].id : 0;\n\t\t\t\t this.changeList(this.cutturnCity);\n\t\t\t }\t \n\t\t}\n\t}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\t.uni-collapse-item__title-box{\n\t\tfont-weight: bold;\n\t\tcolor: #DA8C05;\n\t}\n\t.hoverPhone{\n\t\tcolor: royalblue;\n\t\tfont-weight: bold;\n\t}\n\t.custom-title{\n\t\twidth: 100%;\n\t\theight: 85rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: bold;\n\t\tcolor: rgb(100,100,100);\n\t\tpadding-left: 20rpx;\n\t\tline-height: 85rpx;\n\t}\n\t.custom-title-active{\n\t\tcolor:rgb(199, 126, 0);\n\t\tfont-size: 29rpx;\n\t}\n\t.shopContainer{\n\t\twidth: 100%;\n\t\tpadding-top: 20rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\t.shopLeft{\n\t\t\twidth: 190rpx;\n\t\t\theight: 100%;\n\t\t\t.shopBt{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 75rpx;\n\t\t\t\tposition: relative;\t\t\t\n\t\t\t\t.shopBtText{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 75rpx;\n\t\t\t\t\tline-height: 75rpx;\n\t\t\t\t\tfont-size: 23rpx;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tcolor: rgb(150, 150, 150);\n\t\t\t\t}\n\t\t\t\t.activeShopBt{\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tbackground-color: rgb(246, 246, 246);\n\t\t\t\t\tcolor:rgb(199, 126, 0);\n\t\t\t\t}\n\t\t\t\t.shopBtShow{\n\t\t\t\t\twidth: 60%;\n\t\t\t\t\theight: 5rpx; /* 굵은 줄의 두께 */\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 0; /* 텍스트 아래로 5px 간격 */\n\t\t\t\t\tleft: 20%;\n\t\t\t\t\tbackground-color: #1296db; /* 줄의 기본 색상 */\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.shopRight{\n\t\t\twidth: 560rpx;\n\t\t\theight: 100%;\t\t\n\t\t\t.shopRightContainer{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tpadding: 20rpx 15rpx;\n\t\t\t\tbackground-color: rgb(246, 246, 246);\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(1,1fr);\n\t\t\t\tgap:30rpx;\n\t\t\t\tcolor: rgb(150, 150, 150);\n\t\t\t\t.shopContent{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 530rpx;\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 15rpx;\n\t\t\t\t\t.shopImg{\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\timage{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 250rpx;\n\t\t\t\t\t\t\tborder-top-right-radius: 15rpx;\n\t\t\t\t\t\t\tborder-top-left-radius: 15rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.shopTitle{\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tright: 20rpx;\n\t\t\t\t\t\t\ttop: 25rpx;\n\t\t\t\t\t\t\tcolor: white;\n\t\t\t\t\t\t\tbackground-color: rgb(50, 50, 50,0.5);\n\t\t\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\t\t\theight: 55rpx;\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tborder-radius: 15rpx;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tletter-spacing: 3rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.shopDetil{\n\t\t\t\t\t\tpadding:0 15rpx;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 240rpx;\n\t\t\t\t\t\t.explanation{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight:45rpx ;\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tline-height: 45rpx;\n\t\t\t\t\t\t\tmargin-top: 15rpx;\n\t\t\t\t\t\t\t.ShopDate{\n\t\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\tcolor:rgb(218, 0, 109);;\n\t\t\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.address{\n\t\t\t\t\t\t\tmargin-top: 10rpx;\n\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\theight: 50rpx;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tfont-size: 27rpx;\t\n\t\t\t\t\t\t\tmargin-top: 15rpx;\n\t\t\t\t\t\t\tletter-spacing: 2rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.shopfooter{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 120rpx;\n\t\t\t\t\t\t\tmargin-top: 15rpx;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\tborder-top: 2rpx solid rgb(240, 240, 240);\n\t\t\t\t\t\t\t.bottomLeft{\n\t\t\t\t\t\t\t\twidth: 45%;\n\t\t\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\t\t\timage{\n\t\t\t\t\t\t\t\t\twidth: 70rpx;\n\t\t\t\t\t\t\t\t\theight: 70rpx;\n\t\t\t\t\t\t\t\t\tmargin-top: 5rpx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.weixin{\n\t\t\t\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\t\t\t\tline-height: 90rpx;\n\t\t\t\t\t\t\t\t\tpadding-left: 10rpx;\n\t\t\t\t\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\t\t\t\t\tletter-spacing: 3rpx;\n\t\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.bottomRight{\n\t\t\t\t\t\t\t\twidth: 55%;\n\t\t\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\t\t\timage{\n\t\t\t\t\t\t\t\t\twidth: 60rpx;\n\t\t\t\t\t\t\t\t\theight: 60rpx;\n\t\t\t\t\t\t\t\t\tmargin-top: 10rpx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.shopPhone{\n\t\t\t\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\t\t\t\tline-height: 90rpx;\n\t\t\t\t\t\t\t\t\tpadding-left: 10rpx;\n\t\t\t\t\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\t\t\t\t\tletter-spacing: 2rpx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import MiniProgramPage from '/Users/Coding/uniapp/weixinphone/pages/shop/shop.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getNaviBar","uni","servicePost","listTrees"],"mappings":";;;;;;AAsCC,MAAK,SAAU,MAAW;AAM1B,MAAK,YAAS;AAAA,EACb,YAAW;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAM,CAEL;AAAA,EACD,MAAM,OAAO,SAAS;AAErB,UAAM,UAAUA,cAAG,IAAC,CAAC;AAErB,UAAM,cAAcA,cAAG,IAAC,CAAC;AAEzB,UAAM,eAAeA,cAAG,IAACC,iBAAU,WAAA,EAAG,YAAa,CAAA;AACnD,UAAM,OAAOD,kBAAI,CAAA,CAAE;AACnB,UAAM,OAAOA,kBAAI,CAAA,CAAE;AACnB,UAAM,WAAWA,kBAAI,CAAA,CAAE;AACvB,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAQ;AAAA;AAAA,IAEP,WAAW,QAAO;AACjBE,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,SAAQ,SAAS,KAAI;AACpB,cAAG,IAAI,SAAQ;AACd,gBAAG,CAAC,QAAO;AACV,qBAAO;AAAA,YACR;AACAA,0BAAAA,MAAI,cAAc;AAAA,cACV,aAAc;AAAA,YACtB,CAAC;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAED,WAAW,IAAG;AACb,WAAK,WAAW,KAAK,KAAK,OAAO,UAAM,KAAK,eAAe,EAAE;AAAA,IAC7D;AAAA;AAAA,IAED,WAAW,WAAU,eAAc;AAClC,WAAK,UAAU;AACf,WAAK,cAAc;AACnB,WAAK,WAAW,KAAK,WAAW;AAAA,IAChC;AAAA;AAAA,IAED,UAAU,MAAK;AACdA,oBAAG,MAAC,eAAe,YAAW;AAAA,QAC5B,UAAS;AAAA,OACV;AACDA,oBAAAA,MAAI,WAAW;AAAA,QACP,KAAK,+BAA+B,KAAK,EAAE;AAAA;AAAA,MACnD,CAAC;AAAA,IACF;AAAA,EACA;AAAA,EACD,MAAM,SAAQ;AACZ,QAAI,WAAWA,cAAAA,MAAI,eAAe,MAAM;AACxC,QAAG,UAAS;AACX,WAAK,OAAO,SAAS;AACrB,WAAK,OAAO,SAAS;AACrB,WAAK,UAAU,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE,KAAK;AAChD,WAAK,cAAc,KAAK,KAAK,CAAC,EAAE,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;AACtE,WAAK,WAAW,KAAK,WAAW;AAAA,WAC5B;AACJ,UAAI,OAAO,MAAMC,0BAAY,eAAe;AAC5C,WAAK,OAAO,KAAK;AACjB,WAAK,KAAK,QAAQ,CAAC,SAAO;AACzB,aAAK,UAAU,KAAK,MAAM,KAAK,OAAO;AAAA,OACtC;AACD,WAAK,OAAOC,aAAAA,UAAU,KAAK,QAAQ;AACnCF,oBAAG,MAAC,eAAe,QAAO;AAAA,QACzB,MAAK,KAAK;AAAA,QACV,MAAK,KAAK;AAAA,OACV;AACD,WAAK,UAAU,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE,KAAK;AAChD,WAAK,cAAc,KAAK,KAAK,CAAC,EAAE,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;AACtE,WAAK,WAAW,KAAK,WAAW;AAAA,IACjC;AAAA,EACF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnID,GAAG,WAAW,eAAe;"}