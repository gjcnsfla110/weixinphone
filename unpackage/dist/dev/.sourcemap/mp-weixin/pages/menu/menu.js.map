{"version":3,"file":"menu.js","sources":["pages/menu/menu.vue","pages/menu/menu.vue?type=page"],"sourcesContent":["<template>\n\t<CustomNav title=\"商品分类\"></CustomNav>\n\t<view class=\"menuContent\" :style=\"{height:swiperHeight+'px'}\">\n\t\t<scroll-view class=\"menuLeft\" :style=\"{height:swiperHeight+'px'}\">\n\t\t\t<view class=\"menuList\" v-for=\"item in menuData\">\n\t\t\t\t<view v-if=\"item.child.length < 1\" class=\"menuItem\">\n\t\t\t\t\t<view @click=\"subMenu(item.id,item)\" class=\"leftMenutext\" \n\t\t\t\t\t:class=\"{'activeBackgroundColor animate__pulse' : item.id == activeMenu}\">\n\t\t\t\t\t\t<text class=\"oneItemName\">{{item.name}}</text> \n\t\t\t\t\t\t<view :class=\"{'bottomShow animate__slideInUp' : item.id == activeMenu}\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-else class=\"menuItem\">\n\t\t\t\t\t<view v-for=\"(sub,index) in item.child\" >\n\t\t\t\t\t\t<view v-if=\"index == 0\" @click=\"subMenuTol(sub.id,item.id,sub)\" class=\"topText\" \n\t\t\t\t\t\t:class=\"{'activeTollColor' : item.id == activeBk}\" >\n\t\t\t\t\t\t\t<TopTextTitle :color=\"item.id == activeBk ? item.color : item.color\">\n\t\t\t\t\t\t\t\t{{item.name}}\n\t\t\t\t\t\t\t</TopTextTitle>\n\t\t\t\t\t\t\t<view class=\"leftMenutext\" :class=\"{'activeBackgroundColor animate__pulse' : sub.id == activeMenu}\">\n\t\t\t\t\t\t\t\t{{sub.name}}\n\t\t\t\t\t\t\t\t<view :class=\"{'bottomShow animate__slideInUp' : sub.id == activeMenu}\" :style=\"{backgroundColor:item.color}\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-else @click=\"subMenuTol(sub.id,item.id,sub)\" class=\"leftMenutext\" \n\t\t\t\t\t\t:class=\"{'activeTollColor' : item.id == activeBk,'activeBackgroundColor animate__pulse' : sub.id == activeMenu}\">\n\t\t\t\t\t\t\t{{sub.name}}\n\t\t\t\t\t\t\t<view :class=\"{'bottomShow animate__slideInUp' : sub.id == activeMenu}\" :style=\"{backgroundColor:item.color}\"></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<scroll-view class=\"menuRight\" :style=\"{height:swiperHeight+'px'}\" scroll-y=\"true\">\n\t\t\t<view class=\"rightMunu\">\n\t\t\t\t<TopImg :src=\"categoryImg\"></TopImg>\n\t\t\t\t<RightTitle>{{categoryName}}</RightTitle>\n\t\t\t\t<view class=\"RightsubMenu\">\n\t\t\t\t\t<view class=\"itemListContainer\">\n\t\t\t\t\t\t<view class=\"item\" v-for=\"item in rightSubMenu\" @click=\"subMenuList(item.id)\">\n\t\t\t\t\t\t\t<view class=\"itemImg\">\n\t\t\t\t\t\t\t\t<image :src=\"item.img\" mode=\"scaleToFill\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"itemBttom\">\n\t\t\t\t\t\t\t\t{{item.name}}\t\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n<script>\nimport {getNaviBar,getOsPlatFrom} from \"@/utill/systemData.js\"\nimport CustomNav from \"@/components/custom-nav-bar/customNav.vue\"\nimport TopImg from \"@/components/menu/rightTopImg.vue\";\nimport TopTextTitle from \"@/components/menu/leftTopText.vue\"\nimport RightTitle from \"@/components/menu/rightTopTitle.vue\"\nimport RightItemList from \"@/components/menu/rightItemList.vue\"\nimport { useMainStores } from \"@/stores/mainData\";\nimport {ref} from \"vue\";\n\nexport default{\n\tcomponents:{\n\t\tCustomNav,\n\t\tTopImg,\n\t\tTopTextTitle,\n\t\tRightTitle,\n\t\tRightItemList\n\t},\n\tprops:{\n\t\t\n\t},\n\tsetup(props, context) {\n\n\t\t//pinia 에서 값을 갖고오기\n\t\tconst mainStores = useMainStores();\n\t\tconst {categoryMenu,categorySubmenu} = mainStores;\n\t\t//탑높이를 지정부분\n\t\tconst topHeight = getNaviBar().custumHeiht();\n\t\t//탑 밑에 스크롤 높이를 지정 함수 \n\t\tconst swiperHeightr = ()=>getNaviBar().screen();\n\t\tconst swiperHeight = ref(swiperHeightr());\n\t\t//이변수로 큰메뉴틀을 배경색상 및 큰메뉴글짜색상변경\n\t\tconst activeBk = ref(1);\n\t\t//메뉴클릭시 효과변수\n\t\tconst activeMenu = ref(1);\n\t\t//카테고리 메뉴\n\t\tconst menuData = ref(categoryMenu);\n\t\t//카테고리 상품명 \n\t\tconst categoryName = ref(\"\");\n\t\t//카테고리 윗부분 이미지\n\t\tconst categoryImg = ref(\"\");\n\t\t//오른쪽에 서브메뉴 \n\t\tconst rightSubMenu = ref([]);\n\t\treturn{\n\t\t\tmainStores,\n\t\t\ttopHeight,\n\t\t\tswiperHeight,\n\t\t\tactiveBk,\n\t\t\tactiveMenu,\n\t\t\tmenuData,\n\t\t\tcategoryName,\n\t\t\tcategoryImg,\n\t\t\tcategorySubmenu,\n\t\t\trightSubMenu\n\t\t}\n\t},\n\tmethods:{\n\t\t//제목없는 메뉴클릭(예iphone값이툴없는 메뉴클릭)\n\t\tsubMenu(id,item){\n\t\t\tthis.activeMenu = id;\n\t\t\tthis.activeBk = -50;\n\t\t\tthis.categoryName = item.title;\n\t\t\tthis.categoryImg = item.img;\n\t\t\tthis.rightSubMenu = this.changeRightSubmenu(item.id);\n\t\t},\n\t\t//제목있는 메뉴 클릭시 (예iphone값이툴있는 메뉴클릭)\n\t\tsubMenuTol(id,bkId,item){\n\t\t\tthis.activeMenu = id;\n\t\t\tthis.activeBk = bkId;\n\t\t\tthis.categoryName = item.title;\n\t\t\tthis.categoryImg = item.img;\n\t\t\tthis.rightSubMenu = this.changeRightSubmenu(item.id);\n\t\t},\n\t\t//오른쪽 서브메뉴 데이터를 체인지 함수\n\t\tchangeRightSubmenu(id){\n\t\t\treturn this.categorySubmenu.filter(item => item.category_id == id)\n\t\t},\n\t\t// pinia 데이터를 받는 설정 부분\n\t\tasync loadData(){\n\t\t\tif (!this.mainStores.isDataReady) {\n\t\t\t    try {\n\t\t\t        await this.mainStores.lodingMain();\n\t\t\t    } catch (error) {\n\t\t\t        console.error('Error reloading data:', error);\n\t\t\t    }\n\t\t\t}\n\t\t},\n\t\t//서브카테고리 리스트 쪽으로 넘어가기\n\t\tsubMenuList(id){\n\t\t\t//객체에 실행된 오른쪽 메뉴를 내폰에 저장하기\n\t\t\tuni.setStorageSync('topSubMenu',JSON.stringify(this.rightSubMenu));\n\t\t\tuni.navigateTo({\n\t\t\t        url: `/pages/list/list?id=${id}` // 이동할 페이지 경로\n\t\t\t});\n\t\t}\n\t},\n\tasync onLoad() {\n        try {\n            await this.loadData();\n\t\t\tif (this.menuData.length > 0) {\n\t\t\t  const firstMenu = this.menuData[0].id;\n\t\t\t  const firstSub = this.menuData[0].child[0] ? this.menuData[0].child[0].id : 0;\n\t\t\t  this.subMenuTol(firstSub,firstMenu, this.menuData[0].child[0] ? this.menuData[0].child[0] : {title:\"商品\",img:\"\"})\n\t\t\t}\n        } catch (error) {\n            console.error('Error in onLoad:', error);\n        }\n    }\n}\n\t\n</script>\n\n<style lang=\"scss\" scoped>\n\t.activeBackgroundColor{\n\t\tbackground-color: white;\n\t\tcolor: rgb(70,70,70);\n\t\tfont-size: 26rpx;\n\t\tfont-weight: bold;\n\t\ttext-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); /* 부드러운 그림자 */\n\t}\n\t.activeTollColor{\n\t\tbackground-color: white;\n\t}\n\t.menuContent{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\t.menuLeft{\n\t\t\t\tmargin-top: 18rpx;\n\t\t\t\twidth: 150rpx;\n\t\t\t\tbackground-color: rgb(248,248,248);\n\t\t\t\tfont-size: 23rpx;\n\t\t\t\tcolor: rgb(100, 100, 100);\n\t\t\t\ttext-align: center;\n\t\t\t\tborder-top-right-radius: 10rpx;\n\t\t\t\tletter-spacing: 3rpx; /* 글자 간격 넓게 */\n\t\t\t\ttext-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); /* 부드러운 그림자 */\n\t\t\t\t.menuList{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t.menuItem{\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t.topText{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 138rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.leftMenutext{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 68rpx;\n\t\t\t\t\t\t\tline-height: 50rpx;\t\n\t\t\t\t\t\t    position: relative;\n\t\t\t\t\t\t\t.oneItemName{\n\t\t\t\t\t\t\t\tfont-size: 25rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.bottomShow{\n\t\t\t\t\t\t\t\twidth: 60%;\n\t\t\t\t\t\t\t\theight: 8rpx; /* 굵은 줄의 두께 */\n\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\tbottom: 17rpx; /* 텍스트 아래로 5px 간격 */\n\t\t\t\t\t\t\t\tleft: 20%;\n\t\t\t\t\t\t\t\tbackground-color: #1296db; /* 줄의 기본 색상 */\n\t\t\t\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t.menuRight{\n\t\t\t\twidth: 600rpx;\n\t\t\t\t.itemListContainer{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tpadding: 0 15rpx;\n\t\t\t\t\tmargin-top: 15rpx;\n\t\t\t\t\tgrid-template-columns: repeat(2,1fr);\n\t\t\t\t\tgap:10rpx;\n\t\t\t\t\t.item{\n\t\t\t\t\t\tpadding: 0 15rpx;\n\t\t\t\t\t\t.itemImg{\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tpadding: 10rpx 10rpx;\n\t\t\t\t\t\t\timage{\n\t\t\t\t\t\t\t\twidth: 160rpx;\n\t\t\t\t\t\t\t\theight: 200rpx;\n\t\t\t\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t}\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.itemBttom{\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 70rpx;\t\t\t\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tpadding: 10rpx 0 10rpx 0;\n\t\t\t\t\t\tletter-spacing: 4rpx; /* 글자 간격 넓게 */\n\t\t\t\t\t\ttext-shadow: 2px 2px 4px rgba(80, 80, 80, 0.2); /* 부드러운 그림자 */\n\t\t\t\t\t\tline-height: 50rpx;\n\t\t\t\t\t\tcolor: rgb(50, 50, 50);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t}\t\n</style>\n","import MiniProgramPage from '/Users/Coding/uniapp/weixinphone/pages/menu/menu.vue'\nwx.createPage(MiniProgramPage)"],"names":["useMainStores","getNaviBar","ref","uni"],"mappings":";;;;AAuDA,MAAK,YAAa,MAAW;AAC7B,eAAe,MAAW;AAC1B,MAAK,eAAgB,MAAW;AAChC,MAAK,aAAc,MAAW;AAC9B,MAAK,gBAAiB,MAAW;AAIjC,MAAK,YAAS;AAAA,EACb,YAAW;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACD,OAAM,CAEL;AAAA,EACD,MAAM,OAAO,SAAS;AAGrB,UAAM,aAAaA,gBAAAA;AACnB,UAAM,EAAC,cAAa,gBAAe,IAAI;AAEvC,UAAM,YAAYC,iBAAAA,aAAa;AAE/B,UAAM,gBAAgB,MAAIA,4BAAY,EAAC,OAAM;AAC7C,UAAM,eAAeC,cAAAA,IAAI,cAAa,CAAE;AAExC,UAAM,WAAWA,kBAAI,CAAC;AAEtB,UAAM,aAAaA,kBAAI,CAAC;AAExB,UAAM,WAAWA,kBAAI,YAAY;AAEjC,UAAM,eAAeA,kBAAI,EAAE;AAE3B,UAAM,cAAcA,kBAAI,EAAE;AAE1B,UAAM,eAAeA,kBAAI,CAAA,CAAE;AAC3B,WAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAQ;AAAA;AAAA,IAEP,QAAQ,IAAG,MAAK;AACf,WAAK,aAAa;AAClB,WAAK,WAAW;AAChB,WAAK,eAAe,KAAK;AACzB,WAAK,cAAc,KAAK;AACxB,WAAK,eAAe,KAAK,mBAAmB,KAAK,EAAE;AAAA,IACnD;AAAA;AAAA,IAED,WAAW,IAAG,MAAK,MAAK;AACvB,WAAK,aAAa;AAClB,WAAK,WAAW;AAChB,WAAK,eAAe,KAAK;AACzB,WAAK,cAAc,KAAK;AACxB,WAAK,eAAe,KAAK,mBAAmB,KAAK,EAAE;AAAA,IACnD;AAAA;AAAA,IAED,mBAAmB,IAAG;AACrB,aAAO,KAAK,gBAAgB,OAAO,UAAQ,KAAK,eAAe,EAAE;AAAA,IACjE;AAAA;AAAA,IAED,MAAM,WAAU;AACf,UAAI,CAAC,KAAK,WAAW,aAAa;AAC9B,YAAI;AACA,gBAAM,KAAK,WAAW;QACxB,SAAO,OAAO;AACZC,wBAAc,MAAA,MAAA,SAAA,8BAAA,yBAAyB,KAAK;AAAA,QAChD;AAAA,MACJ;AAAA,IACA;AAAA;AAAA,IAED,YAAY,IAAG;AAEdA,oBAAG,MAAC,eAAe,cAAa,KAAK,UAAU,KAAK,YAAY,CAAC;AACjEA,oBAAAA,MAAI,WAAW;AAAA,QACP,KAAK,uBAAuB,EAAE;AAAA;AAAA,MACtC,CAAC;AAAA,IACF;AAAA,EACA;AAAA,EACD,MAAM,SAAS;AACR,QAAI;AACA,YAAM,KAAK;AACpB,UAAI,KAAK,SAAS,SAAS,GAAG;AAC5B,cAAM,YAAY,KAAK,SAAS,CAAC,EAAE;AACnC,cAAM,WAAW,KAAK,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;AAC5E,aAAK,WAAW,UAAS,WAAW,KAAK,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,EAAC,OAAM,MAAK,KAAI,GAAE,CAAC;AAAA,MACjH;AAAA,IACO,SAAO,OAAO;AACZA,oBAAc,MAAA,MAAA,SAAA,8BAAA,oBAAoB,KAAK;AAAA,IAC3C;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChKA,GAAG,WAAW,eAAe;"}