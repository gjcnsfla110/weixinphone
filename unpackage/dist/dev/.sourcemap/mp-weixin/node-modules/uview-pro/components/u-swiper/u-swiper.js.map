{"version":3,"file":"u-swiper.js","sources":["node_modules/uview-pro/components/u-swiper/u-swiper.vue","/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-swiper/u-swiper.vue?type=component"],"sourcesContent":["<template>\n    <view class=\"u-swiper-wrap\" :style=\"{ borderRadius: `${borderRadius}rpx` }\">\n        <swiper\n            :current=\"elCurrent\"\n            @change=\"change\"\n            @animationfinish=\"animationfinish\"\n            :interval=\"interval\"\n            :circular=\"circular\"\n            :duration=\"duration\"\n            :autoplay=\"autoplay\"\n            :previous-margin=\"effect3d ? effect3dPreviousMargin + 'rpx' : '0'\"\n            :next-margin=\"effect3d ? effect3dPreviousMargin + 'rpx' : '0'\"\n            :style=\"{ height: height + 'rpx', backgroundColor: bgColor }\"\n        >\n            <swiper-item class=\"u-swiper-item\" v-for=\"(item, index) in list\" :key=\"index\">\n                <view\n                    class=\"u-list-image-wrap\"\n                    @tap.stop.prevent=\"listClick(index)\"\n                    :class=\"[uCurrent != index ? 'u-list-scale' : '']\"\n                    :style=\"{\n                        borderRadius: `${borderRadius}rpx`,\n                        transform: effect3d && uCurrent != index ? 'scaleY(0.9)' : 'scaleY(1)',\n                        margin: effect3d && uCurrent != index ? '0 20rpx' : 0\n                    }\"\n                >\n                    <image class=\"u-swiper-image\" :src=\"item[name] || item\" :mode=\"imgMode\"></image>\n                    <view\n                        v-if=\"title && item.title\"\n                        class=\"u-swiper-title u-line-1\"\n                        :style=\"[{ 'padding-bottom': titlePaddingBottom }, titleStyle]\"\n                    >\n                        {{ item.title }}\n                    </view>\n                </view>\n            </swiper-item>\n        </swiper>\n        <view\n            class=\"u-swiper-indicator\"\n            :style=\"{\n                top:\n                    indicatorPos == 'topLeft' || indicatorPos == 'topCenter' || indicatorPos == 'topRight'\n                        ? '12rpx'\n                        : 'auto',\n                bottom:\n                    indicatorPos == 'bottomLeft' || indicatorPos == 'bottomCenter' || indicatorPos == 'bottomRight'\n                        ? '12rpx'\n                        : 'auto',\n                justifyContent: justifyContent,\n                padding: `0 ${effect3d ? '74rpx' : '24rpx'}`\n            }\"\n        >\n            <template v-if=\"mode == 'rect'\">\n                <view\n                    class=\"u-indicator-item-rect\"\n                    :class=\"{ 'u-indicator-item-rect-active': index == uCurrent }\"\n                    v-for=\"(item, index) in list\"\n                    :key=\"index\"\n                ></view>\n            </template>\n            <template v-if=\"mode == 'dot'\">\n                <view\n                    class=\"u-indicator-item-dot\"\n                    :class=\"{ 'u-indicator-item-dot-active': index == uCurrent }\"\n                    v-for=\"(item, index) in list\"\n                    :key=\"index\"\n                ></view>\n            </template>\n            <template v-if=\"mode == 'round'\">\n                <view\n                    class=\"u-indicator-item-round\"\n                    :class=\"{ 'u-indicator-item-round-active': index == uCurrent }\"\n                    v-for=\"(item, index) in list\"\n                    :key=\"index\"\n                ></view>\n            </template>\n            <template v-if=\"mode == 'number'\">\n                <view class=\"u-indicator-item-number\">{{ uCurrent + 1 }}/{{ list.length }}</view>\n            </template>\n        </view>\n    </view>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport { SwiperProps } from './types';\n\ndefineOptions({ name: 'u-swiper' });\n/**\n * swiper 轮播图\n * @description 该组件一般用于导航轮播，广告展示等场景,可开箱即用\n * @tutorial https://uviewpro.cn/zh/components/swiper.html\n * @property {Array} list 轮播图数据，见官网\"基本使用\"说明\n * @property {Boolean} title 是否显示标题文字，需要配合list参数，见官网说明（默认false）\n * @property {String} mode 指示器模式，见官网说明（默认round）\n * @property {String|Number} height 轮播图组件高度，单位rpx（默认250）\n * @property {String} indicator-pos 指示器的位置（默认bottomCenter）\n * @property {Boolean} effect3d 是否开启3D效果（默认false）\n * @property {Boolean} autoplay 是否自动播放（默认true）\n * @property {String|Number} interval 自动轮播时间间隔，单位ms（默认2500）\n * @property {Boolean} circular 是否衔接播放，见官网说明（默认true）\n * @property {String} bg-color 背景颜色（默认#f3f4f6）\n * @property {String|Number} border-radius 轮播图圆角值，单位rpx（默认8）\n * @property {Object} title-style 自定义标题样式\n * @property {String|Number} effect3d-previous-margin mode = true模式的情况下，激活项与前后项之间的距离，单位rpx（默认50）\n * @property {String} img-mode 图片的裁剪模式，详见image组件裁剪模式（默认aspectFill）\n * @event {Function} click 点击轮播图时触发\n * @example <u-swiper :list=\"list\" mode=\"dot\" indicator-pos=\"bottomRight\"></u-swiper>\n */\n\nconst props = defineProps(SwiperProps);\nconst emit = defineEmits(['click', 'change']);\n\n// 当前活跃的swiper-item的index\nconst uCurrent = ref(Number(props.current));\n\n// 监听list变化，重置uCurrent值，避免溢出\nwatch(\n    () => props.list,\n    (nVal, oVal) => {\n        if (nVal.length !== oVal.length) uCurrent.value = 0;\n    }\n);\n// 监听外部current的变化，实时修改内部依赖于此测uCurrent值\nwatch(\n    () => props.current,\n    n => {\n        uCurrent.value = Number(n);\n    }\n);\n\n// 容器 justifyContent\nconst justifyContent = computed(() => {\n    if (props.indicatorPos == 'topLeft' || props.indicatorPos == 'bottomLeft') return 'flex-start';\n    if (props.indicatorPos == 'topCenter' || props.indicatorPos == 'bottomCenter') return 'center';\n    if (props.indicatorPos == 'topRight' || props.indicatorPos == 'bottomRight') return 'flex-end';\n    return 'center';\n});\n\n// 标题下边距\nconst titlePaddingBottom = computed(() => {\n    if (props.mode == 'none') return '12rpx';\n    if (['bottomLeft', 'bottomCenter', 'bottomRight'].includes(props.indicatorPos) && props.mode == 'number') {\n        return '60rpx';\n    } else if (['bottomLeft', 'bottomCenter', 'bottomRight'].includes(props.indicatorPos) && props.mode != 'number') {\n        return '40rpx';\n    } else {\n        return '12rpx';\n    }\n});\n\n// swiper组件current参数只接受Number类型\nconst elCurrent = computed(() => Number(props.current));\n\n/**\n * 点击轮播图项\n */\nfunction listClick(index: number) {\n    emit('click', index);\n}\n\n/**\n * swiper change事件\n */\nfunction change(e: any) {\n    const current = e.detail.current;\n    uCurrent.value = current;\n    emit('change', current);\n}\n\n/**\n * swiper animationfinish事件\n * 头条小程序不支持animationfinish事件，改由change事件\n * 暂不监听此事件，因为不再给swiper绑定uCurrent属性\n */\nfunction animationfinish(e: any) {\n\n    // uCurrent.value = e.detail.current\n\n}\n\ndefineExpose({ listClick, change, animationfinish });\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../libs/css/style.components.scss';\n\n.u-swiper-wrap {\n    position: relative;\n    overflow: hidden;\n    transform: translateY(0);\n}\n\n.u-swiper-image {\n    width: 100%;\n    will-change: transform;\n    height: 100%;\n\n    display: block;\n\n\n\n\n}\n\n.u-swiper-indicator {\n    padding: 0 24rpx;\n    position: absolute;\n    @include vue-flex;\n    width: 100%;\n    z-index: 1;\n}\n\n.u-indicator-item-rect {\n    width: 26rpx;\n    height: 8rpx;\n    margin: 0 6rpx;\n    transition: all 0.5s;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n.u-indicator-item-rect-active {\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n.u-indicator-item-dot {\n    width: 14rpx;\n    height: 14rpx;\n    margin: 0 6rpx;\n    border-radius: 20rpx;\n    transition: all 0.5s;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n.u-indicator-item-dot-active {\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n.u-indicator-item-round {\n    width: 14rpx;\n    height: 14rpx;\n    margin: 0 6rpx;\n    border-radius: 20rpx;\n    transition: all 0.5s;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n.u-indicator-item-round-active {\n    width: 34rpx;\n    background-color: rgba(255, 255, 255, 0.8);\n}\n\n.u-indicator-item-number {\n    padding: 6rpx 16rpx;\n    line-height: 1;\n    background-color: rgba(0, 0, 0, 0.3);\n    border-radius: 100rpx;\n    font-size: 26rpx;\n    color: rgba(255, 255, 255, 0.8);\n}\n\n.u-list-scale {\n    transform-origin: center center;\n}\n\n.u-list-image-wrap {\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    transition: all 0.5s;\n    overflow: hidden;\n    box-sizing: content-box;\n    position: relative;\n}\n\n.u-swiper-title {\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.3);\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    font-size: 28rpx;\n    padding: 12rpx 24rpx;\n    color: rgba(255, 255, 255, 0.9);\n}\n\n.u-swiper-item {\n    @include vue-flex;\n    overflow: hidden;\n    align-items: center;\n}\n</style>\n","import Component from '/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-swiper/u-swiper.vue'\nwx.createComponent(Component)"],"names":["ref","watch","computed"],"mappings":";;;;;;;;AA6GA,UAAM,QAAQ;AACd,UAAM,OAAO;AAGb,UAAM,WAAWA,cAAAA,IAAI,OAAO,MAAM,OAAO,CAAC;AAG1CC,kBAAA;AAAA,MACI,MAAM,MAAM;AAAA,MACZ,CAAC,MAAM,SAAS;AACR,YAAA,KAAK,WAAW,KAAK;AAAQ,mBAAS,QAAQ;AAAA,MACtD;AAAA,IAAA;AAGJA,kBAAA;AAAA,MACI,MAAM,MAAM;AAAA,MACZ,CAAK,MAAA;AACQ,iBAAA,QAAQ,OAAO,CAAC;AAAA,MAC7B;AAAA,IAAA;AAIE,UAAA,iBAAiBC,cAAAA,SAAS,MAAM;AAClC,UAAI,MAAM,gBAAgB,aAAa,MAAM,gBAAgB;AAAqB,eAAA;AAClF,UAAI,MAAM,gBAAgB,eAAe,MAAM,gBAAgB;AAAuB,eAAA;AACtF,UAAI,MAAM,gBAAgB,cAAc,MAAM,gBAAgB;AAAsB,eAAA;AAC7E,aAAA;AAAA,IAAA,CACV;AAGK,UAAA,qBAAqBA,cAAAA,SAAS,MAAM;AACtC,UAAI,MAAM,QAAQ;AAAe,eAAA;AAC7B,UAAA,CAAC,cAAc,gBAAgB,aAAa,EAAE,SAAS,MAAM,YAAY,KAAK,MAAM,QAAQ,UAAU;AAC/F,eAAA;AAAA,MACA,WAAA,CAAC,cAAc,gBAAgB,aAAa,EAAE,SAAS,MAAM,YAAY,KAAK,MAAM,QAAQ,UAAU;AACtG,eAAA;AAAA,MAAA,OACJ;AACI,eAAA;AAAA,MACX;AAAA,IAAA,CACH;AAGD,UAAM,YAAYA,cAAAA,SAAS,MAAM,OAAO,MAAM,OAAO,CAAC;AAKtD,aAAS,UAAU,OAAe;AAC9B,WAAK,SAAS,KAAK;AAAA,IACvB;AAKA,aAAS,OAAO,GAAQ;AACd,YAAA,UAAU,EAAE,OAAO;AACzB,eAAS,QAAQ;AACjB,WAAK,UAAU,OAAO;AAAA,IAC1B;AAOA,aAAS,gBAAgB,GAAQ;AAAA,IAIjC;AAEA,aAAa,EAAE,WAAW,QAAQ,gBAAiB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLnD,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}