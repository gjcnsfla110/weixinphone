{"version":3,"file":"u-mask.js","sources":["node_modules/uview-pro/components/u-mask/u-mask.vue","/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-mask/u-mask.vue?type=component"],"sourcesContent":["<template>\n    <view\n        class=\"u-mask\"\n        hover-stop-propagation\n        :style=\"[maskStyle, zoomStyle]\"\n        @tap=\"click\"\n        @touchmove.stop.prevent=\"() => {}\"\n        :class=\"{\n            'u-mask-zoom': props.zoom,\n            'u-mask-show': props.show\n        }\"\n    >\n        <slot />\n    </view>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport { $u } from '../..';\nimport { MaskProps } from './types';\n\ndefineOptions({ name: 'u-mask' });\n\n/**\n * mask 遮罩\n * @description 创建一个遮罩层，用于强调特定的页面元素，并阻止用户对遮罩下层的内容进行操作，一般用于弹窗场景\n * @tutorial https://uviewpro.cn/zh/components/mask.html\n * @property {Boolean} show 是否显示遮罩（默认false）\n * @property {String|Number} z-index z-index 层级（默认1070）\n * @property {Object} custom-style 自定义样式对象，见上方说明\n * @property {String|Number} duration 动画时长，单位毫秒（默认300）\n * @property {Boolean} zoom 是否使用scale对遮罩进行缩放（默认true）\n * @property {Boolean} mask-click-able 遮罩是否可点击，为false时点击不会发送click事件（默认true）\n * @event {Function} click mask-click-able为true时，点击遮罩发送此事件\n * @example <u-mask :show=\"show\" @click=\"show = false\"></u-mask>\n */\nconst props = defineProps(MaskProps);\nconst emit = defineEmits(['click']);\n\n// 缩放动画样式\nconst zoomStyle = ref<{ transform: string }>({ transform: '' });\n// scale值\nconst scale = 'scale(1.2, 1.2)';\n\n// 监听遮罩显示状态，动态设置缩放动画\nwatch(\n    () => props.show,\n    n => {\n        if (n && props.zoom) {\n            // 当展示遮罩的时候，设置scale为1，达到缩小(原来为1.2)的效果\n            zoomStyle.value.transform = 'scale(1, 1)';\n        } else if (!n && props.zoom) {\n            // 当隐藏遮罩的时候，设置scale为1.2，达到放大(因为显示遮罩时已重置为1)的效果\n            zoomStyle.value.transform = scale;\n        }\n    }\n);\n\n// 遮罩样式\nconst maskStyle = computed(() => {\n    let style: Record<string, any> = {};\n    style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n    if (props.show) style.zIndex = props.zIndex ? props.zIndex : $u.zIndex.mask;\n    else style.zIndex = -1;\n    style.transition = `all ${Number(props.duration) / 1000}s ease-in-out`;\n    // 判断用户传递的对象是否为空，不为空就进行合并\n    if (props.customStyle && Object.keys(props.customStyle).length) {\n        style = {\n            ...style,\n            ...props.customStyle\n        };\n    }\n    return style;\n});\n\n/**\n * 遮罩点击事件\n * maskClickAble为true时，点击遮罩发送click事件\n */\nfunction click() {\n    if (!props.maskClickAble) return;\n    emit('click');\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../libs/css/style.components.scss';\n\n.u-mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    transition: transform 0.3s;\n}\n\n.u-mask-show {\n    opacity: 1;\n}\n\n.u-mask-zoom {\n    transform: scale(1.2, 1.2);\n}\n</style>\n","import Component from '/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-mask/u-mask.vue'\nwx.createComponent(Component)"],"names":["ref","watch","computed","$u"],"mappings":";;AA0CA,MAAM,QAAQ;;;;;;;AANd,UAAM,QAAQ;AACd,UAAM,OAAO;AAGb,UAAM,YAAYA,cAAA,IAA2B,EAAE,WAAW,GAAI,CAAA;AAK9DC,kBAAA;AAAA,MACI,MAAM,MAAM;AAAA,MACZ,CAAK,MAAA;AACG,YAAA,KAAK,MAAM,MAAM;AAEjB,oBAAU,MAAM,YAAY;AAAA,QACrB,WAAA,CAAC,KAAK,MAAM,MAAM;AAEzB,oBAAU,MAAM,YAAY;AAAA,QAChC;AAAA,MACJ;AAAA,IAAA;AAIE,UAAA,YAAYC,cAAAA,SAAS,MAAM;AAC7B,UAAI,QAA6B,CAAA;AACjC,YAAM,kBAAkB;AACxB,UAAI,MAAM;AAAM,cAAM,SAAS,MAAM,SAAS,MAAM,SAASC,cAAAA,GAAG,OAAO;AAAA;AAClE,cAAM,SAAS;AACpB,YAAM,aAAa,OAAO,OAAO,MAAM,QAAQ,IAAI,GAAI;AAEvD,UAAI,MAAM,eAAe,OAAO,KAAK,MAAM,WAAW,EAAE,QAAQ;AACpD,gBAAA;AAAA,UACJ,GAAG;AAAA,UACH,GAAG,MAAM;AAAA,QAAA;AAAA,MAEjB;AACO,aAAA;AAAA,IAAA,CACV;AAMD,aAAS,QAAQ;AACb,UAAI,CAAC,MAAM;AAAe;AAC1B,WAAK,OAAO;AAAA,IAChB;;;;;;;;;;;;;;;ACjFA,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}