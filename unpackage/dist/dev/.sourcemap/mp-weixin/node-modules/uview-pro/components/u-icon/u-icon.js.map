{"version":3,"file":"u-icon.js","sources":["node_modules/uview-pro/components/u-icon/u-icon.vue","/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-icon/u-icon.vue?type=component"],"sourcesContent":["<template>\n    <view :style=\"[customStyle]\" class=\"u-icon\" @tap=\"onClick\" :class=\"['u-icon--' + labelPos]\">\n        <image class=\"u-icon__img\" v-if=\"isImg\" :src=\"name\" :mode=\"imgMode\" :style=\"[imgStyle]\" />\n        <text\n            v-else\n            class=\"u-icon__icon\"\n            :class=\"customClass\"\n            :style=\"[iconStyle]\"\n            :hover-class=\"hoverClass\"\n            @touchstart=\"onTouchstart\"\n        >\n            <text\n                v-if=\"showDecimalIcon\"\n                :style=\"[decimalIconStyle]\"\n                :class=\"decimalIconClass\"\n                :hover-class=\"hoverClass\"\n                class=\"u-icon__decimal\"\n            ></text>\n        </text>\n        <text v-if=\"label !== ''\" class=\"u-icon__label\" :style=\"labelStyle\">\n            {{ label }}\n        </text>\n    </view>\n</template>\n\n<script lang=\"ts\">\nexport default {\n    name: 'u-icon',\n    options: {\n        addGlobalClass: true,\n        virtualHost: true,\n        styleIsolation: 'shared'\n    }\n};\n</script>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { $u } from '../..';\nimport { IconProps } from './types';\n\n/**\n * icon 图标\n * @description 基于字体的图标集，包含了大多数常见场景的图标。\n * @tutorial https://uviewpro.cn/zh/components/icon.html\n * @property {String} name 图标名称，见示例图标集\n * @property {String} color 图标颜色（默认inherit）\n * @property {String | Number} size 图标字体大小，单位rpx（默认32）\n * @property {String | Number} label-size label字体大小，单位rpx（默认28）\n * @property {String} label 图标右侧的label文字（默认28）\n * @property {String} label-pos label文字相对于图标的位置，只能right或bottom（默认right）\n * @property {String} label-color label字体颜色（默认#606266）\n * @property {Object} custom-style icon的样式，对象形式\n * @property {String} custom-prefix 自定义字体图标库时，需要写上此值\n * @property {String | Number} margin-left label在右侧时与图标的距离，单位rpx（默认6）\n * @property {String | Number} margin-top label在下方时与图标的距离，单位rpx（默认6）\n * @property {String | Number} margin-bottom label在上方时与图标的距离，单位rpx（默认6）\n * @property {String | Number} margin-right label在左侧时与图标的距离，单位rpx（默认6）\n * @property {String | Number} space label与图标的距离，单位rpx，权重高于 margin\n * @property {String} index 一个用于区分多个图标的值，点击图标时通过click事件传出\n * @property {String} hover-class 图标按下去的样式类，用法同uni的view组件的hover-class参数，详情见官网\n * @property {String} width 显示图片小图标时的宽度\n * @property {String} height 显示图片小图标时的高度\n * @property {String | Number} top 图标在垂直方向上的定位\n * @property {Boolean} show-decimal-icon 是否为DecimalIcon\n * @property {String} inactive-color 背景颜色，可接受主题色，仅Decimal时有效\n * @property {String | Number} percent 显示的百分比，仅Decimal时有效\n * @event {Function} click 点击图标时触发\n * @event {Function} touchstart 图标触摸时触发\n * @example <u-icon name=\"photo\" color=\"#2979ff\" size=\"28\"></u-icon>\n */\n\nconst emit = defineEmits<{\n    (e: 'click', index: string | number): void;\n    (e: 'touchstart', index: string | number): void;\n}>();\n\nconst props = defineProps(IconProps);\n\n/**\n * 计算图标的类名集合\n * @returns {string[]}\n */\nconst customClass = computed(() => {\n    let classes: string[] | string = [];\n    classes.push(props.customPrefix + '-' + props.name);\n    // uView的自定义图标类名为u-iconfont\n    if (props.customPrefix === 'uicon') {\n        classes.push('u-iconfont');\n    } else {\n        classes.push(props.customPrefix);\n    }\n    // 主题色，通过类配置\n    if (props.showDecimalIcon && props.inactiveColor && $u.config.type.includes(props.inactiveColor)) {\n        classes.push('u-icon__icon--' + props.inactiveColor);\n    } else if (props.color && $u.config.type.includes(props.color)) {\n        classes.push('u-icon__icon--' + props.color);\n    }\n    // 阿里，头条，百度小程序通过数组绑定类名时，无法直接使用[a, b, c]的形式，否则无法识别\n    // 故需将其拆成一个字符串的形式，通过空格隔开各个类名\n\n\n\n    return classes;\n});\n\n/**\n * 计算图标的样式\n * @returns {CSSProperties}\n */\nconst iconStyle = computed(() => {\n    const style: Record<string, any> = {\n        fontSize: props.size === 'inherit' ? 'inherit' : $u.addUnit(props.size),\n        fontWeight: props.bold ? 'bold' : 'normal',\n        // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中\n        top: $u.addUnit(props.top)\n    };\n    // 非主题色值时，才当作颜色值\n    if (props.showDecimalIcon && props.inactiveColor && !$u.config.type.includes(props.inactiveColor)) {\n        style.color = props.inactiveColor;\n    } else if (props.color && !$u.config.type.includes(props.color)) {\n        style.color = props.color;\n    }\n    return style;\n});\n\n/**\n * 判断传入的name属性是否为图片路径\n * @returns {boolean}\n */\nconst isImg = computed(() => {\n    return props.name.indexOf('/') !== -1;\n});\n\n/**\n * 计算图片图标的样式\n * @returns {any}\n */\nconst imgStyle = computed(() => {\n    // 如果设置width和height属性，则优先使用，否则使用size属性\n    const style: any = {\n        width: props.width ? $u.addUnit(props.width) : $u.addUnit(props.size),\n        height: props.height ? $u.addUnit(props.height) : $u.addUnit(props.size)\n    };\n    return style;\n});\n\n/**\n * 计算小数图标的样式，仅DecimalIcon时有效\n * @returns {CSSProperties}\n */\nconst decimalIconStyle = computed(() => {\n    const style: any = {\n        fontSize: props.size === 'inherit' ? 'inherit' : $u.addUnit(props.size),\n        fontWeight: props.bold ? 'bold' : 'normal',\n        // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中\n        top: $u.addUnit(props.top),\n        width: props.percent + '%'\n    };\n    // 非主题色值时，才当作颜色值\n    if (props.color && !$u.config.type.includes(props.color)) {\n        style.color = props.color;\n    }\n    return style;\n});\n\n/**\n * 计算小数图标的类名，仅DecimalIcon时有效\n * @returns {string | string[]}\n */\nconst decimalIconClass = computed(() => {\n    let classes: string[] | string = [];\n    classes.push(props.customPrefix + '-' + props.name);\n    // uView的自定义图标类名为u-iconfont\n    if (props.customPrefix === 'uicon') {\n        classes.push('u-iconfont');\n    } else {\n        classes.push(props.customPrefix);\n    }\n    if (props.color && $u.config.type.includes(props.color)) {\n        classes.push('u-icon__icon--' + props.color);\n    } else {\n        classes.push('u-icon__icon--primary');\n    }\n    // 阿里，头条，百度小程序通过数组绑定类名时，无法直接使用[a, b, c]的形式，否则无法识别\n    // 故需将其拆成一个字符串的形式，通过空格隔开各个类名\n\n\n\n    return classes;\n});\n\n/**\n * 计算label的样式\n * @returns {any}\n */\nconst labelStyle = computed(() => {\n    return {\n        color: props.labelColor,\n        fontSize: $u.addUnit(props.labelSize),\n        marginLeft: props.labelPos === 'right' ? $u.addUnit(props.space || props.marginLeft) : 0,\n        marginTop: props.labelPos === 'bottom' ? $u.addUnit(props.space || props.marginTop) : 0,\n        marginRight: props.labelPos === 'left' ? $u.addUnit(props.space || props.marginRight) : 0,\n        marginBottom: props.labelPos === 'top' ? $u.addUnit(props.space || props.marginBottom) : 0\n    };\n});\n\n/**\n * 点击图标时触发\n * @emits click(index)\n */\nfunction onClick() {\n    emit('click', props.index);\n}\n\n/**\n * 图标触摸时触发\n * @emits touchstart(index)\n */\nfunction onTouchstart() {\n    emit('touchstart', props.index);\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '../../libs/css/style.components.scss';\n@import '../../iconfont.css';\n\n.u-icon {\n    display: inline-flex;\n    align-items: center;\n\n    &--left {\n        flex-direction: row-reverse;\n        align-items: center;\n    }\n\n    &--right {\n        flex-direction: row;\n        align-items: center;\n    }\n\n    &--top {\n        flex-direction: column-reverse;\n        justify-content: center;\n    }\n\n    &--bottom {\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    &__icon {\n        position: relative;\n\n        &--primary {\n            color: $u-type-primary;\n        }\n\n        &--success {\n            color: $u-type-success;\n        }\n\n        &--error {\n            color: $u-type-error;\n        }\n\n        &--warning {\n            color: $u-type-warning;\n        }\n\n        &--info {\n            color: $u-type-info;\n        }\n    }\n\n    &__decimal {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: inline-block;\n        overflow: hidden;\n    }\n\n    &__img {\n        height: auto;\n        will-change: transform;\n    }\n\n    &__label {\n        line-height: 1;\n    }\n}\n</style>\n","import Component from '/Users/Coding/uniapp/weixinphone/node_modules/uview-pro/components/u-icon/u-icon.vue'\nwx.createComponent(Component)"],"names":["computed","$u"],"mappings":";;AA0BA,MAAA,cAAe;AAAA,EACX,MAAM;AAAA,EACN,SAAS;AAAA,IACL,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EACpB;AACJ;;;;;;AAuCA,UAAM,OAAO;AAKb,UAAM,QAAQ;AAMR,UAAA,cAAcA,cAAAA,SAAS,MAAM;AAC/B,UAAI,UAA6B,CAAA;AACjC,cAAQ,KAAK,MAAM,eAAe,MAAM,MAAM,IAAI;AAE9C,UAAA,MAAM,iBAAiB,SAAS;AAChC,gBAAQ,KAAK,YAAY;AAAA,MAAA,OACtB;AACK,gBAAA,KAAK,MAAM,YAAY;AAAA,MACnC;AAEI,UAAA,MAAM,mBAAmB,MAAM,iBAAiBC,cAAAA,GAAG,OAAO,KAAK,SAAS,MAAM,aAAa,GAAG;AACtF,gBAAA,KAAK,mBAAmB,MAAM,aAAa;AAAA,MAAA,WAC5C,MAAM,SAASA,iBAAG,OAAO,KAAK,SAAS,MAAM,KAAK,GAAG;AACpD,gBAAA,KAAK,mBAAmB,MAAM,KAAK;AAAA,MAC/C;AAMO,aAAA;AAAA,IAAA,CACV;AAMK,UAAA,YAAYD,cAAAA,SAAS,MAAM;AAC7B,YAAM,QAA6B;AAAA,QAC/B,UAAU,MAAM,SAAS,YAAY,YAAYC,iBAAG,QAAQ,MAAM,IAAI;AAAA,QACtE,YAAY,MAAM,OAAO,SAAS;AAAA;AAAA,QAElC,KAAKA,cAAA,GAAG,QAAQ,MAAM,GAAG;AAAA,MAAA;AAGzB,UAAA,MAAM,mBAAmB,MAAM,iBAAiB,CAACA,cAAAA,GAAG,OAAO,KAAK,SAAS,MAAM,aAAa,GAAG;AAC/F,cAAM,QAAQ,MAAM;AAAA,MAAA,WACb,MAAM,SAAS,CAACA,cAAA,GAAG,OAAO,KAAK,SAAS,MAAM,KAAK,GAAG;AAC7D,cAAM,QAAQ,MAAM;AAAA,MACxB;AACO,aAAA;AAAA,IAAA,CACV;AAMK,UAAA,QAAQD,cAAAA,SAAS,MAAM;AACzB,aAAO,MAAM,KAAK,QAAQ,GAAG,MAAM;AAAA,IAAA,CACtC;AAMK,UAAA,WAAWA,cAAAA,SAAS,MAAM;AAE5B,YAAM,QAAa;AAAA,QACf,OAAO,MAAM,QAAQC,cAAAA,GAAG,QAAQ,MAAM,KAAK,IAAIA,cAAA,GAAG,QAAQ,MAAM,IAAI;AAAA,QACpE,QAAQ,MAAM,SAASA,cAAAA,GAAG,QAAQ,MAAM,MAAM,IAAIA,cAAA,GAAG,QAAQ,MAAM,IAAI;AAAA,MAAA;AAEpE,aAAA;AAAA,IAAA,CACV;AAMK,UAAA,mBAAmBD,cAAAA,SAAS,MAAM;AACpC,YAAM,QAAa;AAAA,QACf,UAAU,MAAM,SAAS,YAAY,YAAYC,iBAAG,QAAQ,MAAM,IAAI;AAAA,QACtE,YAAY,MAAM,OAAO,SAAS;AAAA;AAAA,QAElC,KAAKA,cAAA,GAAG,QAAQ,MAAM,GAAG;AAAA,QACzB,OAAO,MAAM,UAAU;AAAA,MAAA;AAGvB,UAAA,MAAM,SAAS,CAACA,iBAAG,OAAO,KAAK,SAAS,MAAM,KAAK,GAAG;AACtD,cAAM,QAAQ,MAAM;AAAA,MACxB;AACO,aAAA;AAAA,IAAA,CACV;AAMK,UAAA,mBAAmBD,cAAAA,SAAS,MAAM;AACpC,UAAI,UAA6B,CAAA;AACjC,cAAQ,KAAK,MAAM,eAAe,MAAM,MAAM,IAAI;AAE9C,UAAA,MAAM,iBAAiB,SAAS;AAChC,gBAAQ,KAAK,YAAY;AAAA,MAAA,OACtB;AACK,gBAAA,KAAK,MAAM,YAAY;AAAA,MACnC;AACI,UAAA,MAAM,SAASC,iBAAG,OAAO,KAAK,SAAS,MAAM,KAAK,GAAG;AAC7C,gBAAA,KAAK,mBAAmB,MAAM,KAAK;AAAA,MAAA,OACxC;AACH,gBAAQ,KAAK,uBAAuB;AAAA,MACxC;AAMO,aAAA;AAAA,IAAA,CACV;AAMK,UAAA,aAAaD,cAAAA,SAAS,MAAM;AACvB,aAAA;AAAA,QACH,OAAO,MAAM;AAAA,QACb,UAAUC,cAAA,GAAG,QAAQ,MAAM,SAAS;AAAA,QACpC,YAAY,MAAM,aAAa,UAAUA,cAAA,GAAG,QAAQ,MAAM,SAAS,MAAM,UAAU,IAAI;AAAA,QACvF,WAAW,MAAM,aAAa,WAAWA,cAAA,GAAG,QAAQ,MAAM,SAAS,MAAM,SAAS,IAAI;AAAA,QACtF,aAAa,MAAM,aAAa,SAASA,cAAA,GAAG,QAAQ,MAAM,SAAS,MAAM,WAAW,IAAI;AAAA,QACxF,cAAc,MAAM,aAAa,QAAQA,cAAA,GAAG,QAAQ,MAAM,SAAS,MAAM,YAAY,IAAI;AAAA,MAAA;AAAA,IAC7F,CACH;AAMD,aAAS,UAAU;AACV,WAAA,SAAS,MAAM,KAAK;AAAA,IAC7B;AAMA,aAAS,eAAe;AACf,WAAA,cAAc,MAAM,KAAK;AAAA,IAClC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5NA,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}